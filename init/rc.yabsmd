#!/bin/sh

# start/stop/restart/status the yabsmd btrfs snapshot daemon.

usage="usage: $0 start|stop|restart|status"
yabsmd=$(command -v yabsmd)

if [ -z "$yabsmd" ]; then
  printf "$0: error: could not find yabsmd executable\n" 1>&2
  exit 1
fi

if [ $# != 1 ]; then
  printf "$usage\n" 1>&2
  exit 1
fi

case "$1" in
'start')
  "$yabsmd" start
  ;;
'stop')
  "$yabsmd" stop
  ;;
'restart')
  "$yabsmd" restart
  ;;
'status')
  "$yabsmd" status
  ;;
*)
  printf "$usage\n" 1>&2
  exit 1
esac
